<% if @answer.valid? %>
$('.js-answers').prepend("<%= escape_javascript(render(@answer)) %>");
$('#answer-' +<%= @answer.id %>).hide().fadeIn(500);
$('.js-answers-count').html("<%= @question.answers.count %> Answers");
$('.new_answer').html("<%= escape_javascript(render partial: 'answers/answers_form', locals: { question: @question, answer: @new_answer }) %>");
$('#js-follow-' +<%= @answer.question.id %>).html("<%= escape_javascript(render partial: 'follow_questions/follow_questions', locals: { question: @answer.question }) %>");
$('#js-follow-text-' +<%= @answer.question.id %>).html("<%= escape_javascript(render partial: 'follow_questions/follow_questions_text', locals: { question: @answer.question }) %>");
<% else %>
//render a new answer form
$('.new_answer').html("<%= escape_javascript(render partial: 'answers/answers_form', locals: { question: @question, answer: @new_answer }) %>");
 alert("<%= j @answer.errors.full_messages.join(', ').html_safe %>");
<% end %>
//update text-editor
$('.answer-textarea').wysihtml5({
    "font-styles": false, //Font styling, e.g. h1, h2, etc. Default true
    "emphasis": true, //Italics, bold, etc. Default true
    "lists": true, //(Un)ordered lists, e.g. Bullets, Numbers. Default true
    "html": false, //Button which allows you to edit the generated HTML. Default false
    "link": true, //Button to insert a link. Default true
    "image": false, //Button to insert an image. Default true,
    "color": false, //Button to change color of font
    "size": 'md', //Button size like sm, xs etc.
});
$('.supplement-tip').tooltip();